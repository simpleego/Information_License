# XSS와 CSRF 이해
> 웹 보안의 양대 산맥인 **XSS**와 **CSRF**는 이름이 비슷해서 헷갈리기 쉽지만, 공격의 **'타겟'**과 **'목적'**이 완전히 다릅니다. 

---

## 1. XSS (Cross-Site Scripting)

**"사용자의 브라우저에 악성 코드를 심는 것"**

XSS는 게시판 같은 곳에 **'나쁜 마법이 걸린 글'**을 남기는 것과 같습니다.

* **비유:** 유명한 맛집 게시판에 누군가 리뷰를 남겼습니다. 그런데 그 리뷰를 읽는 순간, 읽은 사람의 주머니에서 지갑(쿠키/세션 정보)이 스르륵 빠져나가 공격자에게 전달되는 **자동 마법**이 걸려 있는 셈이죠.
* **핵심:** 공격 대상은 **'웹사이트를 이용하는 사용자'**입니다. 사용자의 브라우저에서 악성 스크립트가 실행되게 만들어 정보를 빼냅니다.

### 예시

1. 공격자가 게시판에 `<script>지갑_훔치기()</script>`라는 글을 올립니다.
2. 일반 사용자가 이 글을 클릭합니다.
3. 사용자의 브라우저는 이 글을 '코드'로 인식하고 실행해 버립니다.
4. 사용자의 로그인 정보(세션 키)가 공격자의 서버로 전송됩니다.

---

## 2. CSRF (Cross-Site Request Forgery)

**"사용자의 권한을 도용해 가짜 요청을 보내는 것"**

CSRF는 **'내 도장을 몰래 찍어 서류를 제출하는 것'**과 같습니다.

* **비유:** 당신이 이미 은행(웹사이트)에 로그인해서 업무를 보고 있는 상태입니다. 이때 누군가 "이 귀여운 고양이 사진 좀 봐!"라며 링크를 보냅니다. 사진을 클릭하는 순간, 뒷단에서는 **"내 계좌에서 공격자에게 100만 원 송금해줘"**라는 요청서에 당신의 인감도장(로그인 권한)이 찍혀 은행으로 전송됩니다.
* **핵심:** 공격 대상은 **'웹사이트 서버'**입니다. 사용자가 로그인되어 있다는 점을 이용해, 사용자의 의지와 상관없이 서버에 특정 명령을 내리게 합니다.

### 예시

1. 당신은 현재 페이스북에 로그인되어 있습니다.
2. 공격자가 만든 이상한 사이트에 접속합니다.
3. 그 사이트에는 보이지 않는 버튼이나 이미지가 있어, 클릭 시 `facebook.com/내글쓰기?내용=나는바보다`라는 주소로 요청을 보내게 합니다.
4. 페이스북 서버는 당신이 로그인된 상태이므로 "아, 본인이 직접 쓴 글이구나!"라고 믿고 글을 등록해 버립니다.

---

## 💡 한눈에 비교하기

| 구분 | XSS | CSRF |
| --- | --- | --- |
| **공격 대상** | 사용자 (브라우저) | 서버 (웹 애플리케이션) |
| **공격 수단** | 악성 스크립트 (JS 코드) | 위조된 요청 (HTTP Request) |
| **목적** | 사용자의 데이터(쿠키 등) 탈취 | 사용자의 권한으로 특정 동작 수행 |
| **비유** | **함정 카드** (밟으면 정보 유출) | **대리 서명** (내 이름으로 송금/탈취) |

---

### 요약하자면

* **XSS**는 사용자가 웹사이트를 믿어서 발생하는 문제라기보다, **웹사이트가 올린 글(코드)을 검증하지 않아** 사용자가 당하는 것입니다.
* **CSRF**는 **서버가 요청을 보낸 사람이 정말 '의도'를 가지고 보냈는지 확인하지 않아** 발생하는 문제입니다.
